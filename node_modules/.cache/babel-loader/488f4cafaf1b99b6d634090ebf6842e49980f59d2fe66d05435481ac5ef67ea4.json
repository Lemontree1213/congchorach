{"ast":null,"code":"var _jsxFileName = \"D:\\\\Do An tot nghiep 2\\\\src\\\\component\\\\sign.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom'; // Nhập useNavigate\nimport '../css/sign.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Signup() {\n  _s();\n  const navigate = useNavigate(); // Khởi tạo useNavigate\n  const [userid, setUserid] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [msg, setMsg] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const handleInput = event => {\n    const {\n      name,\n      value\n    } = event.target;\n    if (name === \"userid\") {\n      setUserid(value);\n    } else if (name === \"password\") {\n      setPassword(value);\n    }\n  };\n  const submit = async event => {\n    event.preventDefault();\n    if (!userid || !password) {\n      setError('All fields are required');\n      setMsg(\"\");\n    } else {\n      setError(\"\");\n      try {\n        // Gửi yêu cầu đăng ký tới API\n        const response = await axios.post('https://localhost:7256/api/Account', {\n          userid: userid,\n          password: password\n        });\n        console.log('Response:', response.data); // In ra phản hồi từ API\n\n        // Kiểm tra phản hồi từ API\n        if (response.status === 200) {\n          // Kiểm tra mã trạng thái HTTP\n          setMsg(`${userid}: Signup Successfully!`);\n          setUserid(\"\");\n          setPassword(\"\");\n\n          // Chuyển hướng về trang đăng nhập sau 2 giây\n          setTimeout(() => {\n            setMsg(\"\"); // Xóa thông báo sau 2 giây\n            navigate('/login'); // Chuyển hướng về trang đăng nhập\n          }, 2000);\n        } else {\n          setError('Signup failed. Please try again.'); // Nếu mã trạng thái không phải 200\n        }\n      } catch (error) {\n        if (error.response && error.response.status === 409) {\n          setError('User ID already exists. Please choose another.');\n        } else {\n          setError('Error signing up. Please try again.');\n        }\n        console.error('Signup error:', error);\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"BG\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: submit,\n      className: \"containers\",\n      children: [msg && /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: msg\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 25\n      }, this), error && /*#__PURE__*/_jsxDEV(\"h3\", {\n        style: {\n          color: 'red'\n        },\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 27\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Sign Up\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"inputs\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"User ID\",\n          name: \"userid\",\n          value: userid,\n          onChange: handleInput\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          placeholder: \"Password\",\n          name: \"password\",\n          value: password,\n          onChange: handleInput\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Sign Up\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 9\n  }, this);\n}\n_s(Signup, \"FwLtEBzEQmPjQZ+DU++wjO6F/08=\", false, function () {\n  return [useNavigate];\n});\n_c = Signup;\nexport default Signup;\nvar _c;\n$RefreshReg$(_c, \"Signup\");","map":{"version":3,"names":["React","useState","axios","useNavigate","jsxDEV","_jsxDEV","Signup","_s","navigate","userid","setUserid","password","setPassword","msg","setMsg","error","setError","handleInput","event","name","value","target","submit","preventDefault","response","post","console","log","data","status","setTimeout","className","children","onSubmit","fileName","_jsxFileName","lineNumber","columnNumber","style","color","type","placeholder","onChange","_c","$RefreshReg$"],"sources":["D:/Do An tot nghiep 2/src/component/sign.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport { useNavigate } from 'react-router-dom'; // Nhập useNavigate\r\nimport '../css/sign.css';\r\n\r\nfunction Signup() {\r\n    const navigate = useNavigate(); // Khởi tạo useNavigate\r\n    const [userid, setUserid] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [msg, setMsg] = useState(\"\");\r\n    const [error, setError] = useState(\"\");\r\n\r\n    const handleInput = (event) => {\r\n        const { name, value } = event.target;\r\n        if (name === \"userid\") {\r\n            setUserid(value);\r\n        } else if (name === \"password\") {\r\n            setPassword(value);\r\n        }\r\n    };\r\n\r\n    const submit = async (event) => {\r\n        event.preventDefault();\r\n        if (!userid || !password) {\r\n            setError('All fields are required');\r\n            setMsg(\"\");\r\n        } else {\r\n            setError(\"\");\r\n\r\n            try {\r\n                // Gửi yêu cầu đăng ký tới API\r\n                const response = await axios.post('https://localhost:7256/api/Account', {\r\n                    userid: userid,\r\n                    password: password\r\n                });\r\n\r\n                console.log('Response:', response.data); // In ra phản hồi từ API\r\n\r\n                // Kiểm tra phản hồi từ API\r\n                if (response.status === 200) {  // Kiểm tra mã trạng thái HTTP\r\n                    setMsg(`${userid}: Signup Successfully!`);\r\n                    setUserid(\"\");\r\n                    setPassword(\"\");\r\n\r\n                    // Chuyển hướng về trang đăng nhập sau 2 giây\r\n                    setTimeout(() => {\r\n                        setMsg(\"\"); // Xóa thông báo sau 2 giây\r\n                        navigate('/login'); // Chuyển hướng về trang đăng nhập\r\n                    }, 2000);\r\n                } else {\r\n                    setError('Signup failed. Please try again.'); // Nếu mã trạng thái không phải 200\r\n                }\r\n            } catch (error) {\r\n                if (error.response && error.response.status === 409) {\r\n                    setError('User ID already exists. Please choose another.');\r\n                } else {\r\n                    setError('Error signing up. Please try again.');\r\n                }\r\n                console.error('Signup error:', error);\r\n            }\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className='BG'>\r\n            <form onSubmit={submit} className='containers'>\r\n                {msg && <h2>{msg}</h2>}\r\n                {error && <h3 style={{ color: 'red' }}>{error}</h3>}\r\n\r\n                <h1>Sign Up</h1>\r\n            \r\n                <div className='inputs'>\r\n                    <input type='text' placeholder='User ID' name=\"userid\" value={userid} onChange={handleInput} />    \r\n                    <input type='password' placeholder='Password' name=\"password\" value={password} onChange={handleInput} />\r\n                </div>\r\n            \r\n                <button type='submit'>Sign Up</button>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Signup;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}